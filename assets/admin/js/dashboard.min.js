((n,i)=>{let t=n(".zyre-sidebar-toggle"),e=n(".zyre-sidebar-close"),a=n(".zyre-dashboard-overlay");var s=n(".zyre-dashboard-wrapper"),o=n(".zyre-content-wrapper"),c=o.find(".zyre-video-item"),r="#zyre-video-modal",d=o.find(r),l=d.find(".zyre-iframe-scaler"),R=d.find(".zyre-modal-close"),h="#zyre-subscription-modal",f=s.find(h),s=f.find(".zyre-modal-close"),u=n("#zyre-dashboard-form"),v=u.find(".zyre-save-settings"),p=o.find(".zyre-dashboard-tabs-nav"),y=o.find(".zyre-tab-panel"),V=o.find('.content-integrations input[type="text"]'),g=o.find(".zyre-dash-widget-sidebar"),w=g.find(".zyre-dash-widget-sidebar-list"),$=o.find(".zyre-dash-widget-content-main"),b=w.find(".zyre-dash-widget-sidebar-item"),m=".zyre-dash-widget-tab:not(.widget-pro-placeholder)",z='.zyre-widget-style-type-checkbox input[type="checkbox"]',k='.zyre-widget-style-type-checkbox input[type="checkbox"]:checked',C='.zyre-tabs-up-content-right-widget input[type="checkbox"]',_=o.find(".zyre-enable-all-btn"),q=o.find(".zyre-disable-all-btn"),x=o.find(m+" "+C),B=o.find(m+" "+z);c.click(function(e){e.preventDefault();var e=n(this).attr("href"),e=(e=(e=e).match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/]+\/.+|(?:v|embed|shorts)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/))?e[1]:null;l.append(`<iframe class="zyre-video-iframe" src="https://www.youtube.com/embed/${e}?autoplay=1" frameborder="0" allowfullscreen></iframe>`),d.addClass("video-modal-shown").show()}),R.click(function(){d.fadeOut(function(){d.removeClass("video-modal-shown"),l.find("iframe").remove()})}),n(window).click(function(e){n(e.target).is(r)&&d.fadeOut(function(){d.removeClass("video-modal-shown"),l.find("iframe").remove()})}),s.click(function(){f.fadeOut(function(){f.removeClass("video-modal-shown")})}),n(window).click(function(e){n(e.target).is(h)&&f.fadeOut(function(){f.removeClass("video-modal-shown")})}),p.on("click",".zyre-tab-nav-item",function(e){var t=n(e.currentTarget),i=e.currentTarget.hash,a=".content-"+i.substring(1),a=o.find(a);e.preventDefault(),t.addClass("nav-item-active").siblings().removeClass("nav-item-active"),y.removeClass("zyre-tab-panel-active"),a.addClass("zyre-tab-panel-active"),"#integrations"===i?a.addClass("integrations-tab-active"):y.removeClass("integrations-tab-active"),window.location.hash=i}),w.on("click",".zyre-dash-widget-sidebar-item",function(e){e.preventDefault();var e=n(this),t=e.data("tab"),t=$.find("#"+t);e.addClass("active").siblings().removeClass("active"),t.addClass("active").siblings().removeClass("active")}),g.on("input","#zyre-sidebar-search",function(){let e=n(this).val().toLowerCase();b.each(function(){n(this).text().toLowerCase().includes(e)?n(this).show():n(this).hide()})});let D=()=>{g.hasClass("open")&&a.hasClass("active")&&(g.removeClass("open"),a.removeClass("active"))},L,O,T,j;t.click(function(e){e.stopPropagation(),g.toggleClass("open"),a.toggleClass("active")}),n(document).on("click",function(e){n(e.target).closest(g).length||n(e.target).closest(t).length||D()}),b.click(D),e.click(function(){D()}),a.click(function(){D()}),(window.location.hash||window.location.search)&&(L=window.location.hash,T=(O=new URLSearchParams(window.location.search)).get("t"),j=O.get("widget"),L?p.find('a[href="'+L+'"]').trigger("click"):T&&p.find('a[href="#'+T+'"]').trigger("click"),j)&&w.find('[data-tab="'+j+'-widget-tab"]').trigger("click");var A={},P=!1,S=!1;u.find('input[type="text"]').each(function(){A[n(this).attr("id")]=n(this).val()}),u.find('input[type="checkbox"]').each(function(){A[n(this).attr("id")]=n(this).is(":checked")});let U=()=>{S=P=!1,u.find('input[type="checkbox"], input[type="text"]').each(function(){var e=n(this).attr("id");return n(this).is(":checkbox")&&n(this).is(":checked")!==A[e]?!(P=!0):n(this).is(":text")&&n(this).val()!==A[e]?!(S=!0):void 0}),v.attr("disabled",!(P||S))},Z=()=>{x.each(function(){var e=n(this).prop("checked"),t=n(this).closest(m);e?t.addClass("zyre-widget-active"):t.removeClass("zyre-widget-active")})},Q=(e,t=!1)=>{var i=e.prop("checked"),e=e.closest(m),a=0===e.find(k).length;i?(e.addClass("zyre-widget-active"),t&&a&&e.find(".zyre-dash-each-widget-style.widget-style--active-default").find(z).prop("checked",!0)):e.removeClass("zyre-widget-active")};V.on("input",function(){U()}),_.click(function(){x.prop("checked",!0),Z(),U()}),q.click(function(){x.prop("checked",!1),Z(),U()}),x.change(function(){Q(n(this),!0),U()}),B.change(function(){var e=n(this).closest(".zyre-dash-widget-tab");0===e.find(k).length&&(e.find(C).prop("checked",!1),Q(n(this))),U()}),u.on("submit",function(e){e.preventDefault(),n.post({url:i.ajaxUrl,data:{nonce:i.nonce,action:i.action,formData:u.serialize()},beforeSend:function(){v.addClass("saving")},success:function(e){var t;e.success&&(t=setTimeout(function(){v.removeClass("saving").attr("disabled",!0).children(".zyre-save-text").text(i.savedLabel),P=!1,location.reload(),clearTimeout(t)},500))}})}),n(window).on("beforeunload",function(e){P&&(e.preventDefault(),e.returnValue=!0)})})(jQuery,window.ZyreAddonsDashboard);